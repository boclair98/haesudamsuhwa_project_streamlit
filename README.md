# 🌊 RO 해수담수화 공정 대시보드

## 프로젝트 소개 (Project Overview)
- 해수 담수화 프로젝트 
- 기존의 전력량을 낮추고 효율적인 에너지 관리와 비용을 감소하기 위해서 개발.
- 전력량 데이터 수집후 학습을 진행했으며, 실제 전력량을 예측해 대시보드에 제공.
- 제공된 전력량은 최적화 전력이며 이를 사용시 에너지 효율과 비용을 감소시킬 수 있습니다.

> 해수담수화 RO 공정 데이터를 분석하고, 예측 모델을 통해 공정 효율을 시각화하는 **Streamlit 기반 웹 대시보드**입니다.

[🚀 웹앱 바로가기](https://streamittest1-5ge3efs10re.streamlit.app/)  
[📁 GitHub 저장소](https://github.com/boclair98/streamit_test1)

---

## 🗂️ 프로젝트 구조

```bash
streamit_test1/
├── app3.py                        # 메인 Streamlit 애플리케이션
├── camera_input_live.py          # (미사용) 카메라 입력 모듈
├── LR_pressure.pkl               # 수온/PH 기반 1차 인입압력 예측 모델 (선형회귀)
├── RF_elec.pkl                   # 수질 기반 전력량 예측 모델 (랜덤포레스트)
├── RO공정데이터.csv             # RO 공정 운전 데이터 (CSV)
├── RO공정데이터_0621.csv        # RO 공정 데이터 (2021년 6월 기준)
├── 해양환경공단_천수만(2021).csv  # 천수만 해양 수질 측정망 데이터 (2021년)
├── 해수수질데이터.csv           # 월별 해수 수질 측정 데이터
├── 인천수질데이터.csv           # 인천 지역 수질 측정 데이터
├── 수질서비스.csv               # 공공 수질 서비스(측정소) 데이터
├── 수질만데이터.csv             # 수질 달성률 계산용 데이터
├── *.png                         # 상태 이미지 (정상, 주의, 경고 단계)
├── requirements.txt              # 의존성 패키지 목록
└── README.md                     # 프로젝트 설명 문서 (이 파일)

## ✅ 주요 기능 (Features)

본 애플리케이션은 총 3개의 탭으로 구성되어 있으며, 각 탭별 기능은 다음과 같습니다:

---

### 🧭 Tab 1 – 실시간 대시보드

- 📈 **수온 / pH 기반 예측**
  - 사용자 입력: 수온, 수소이온농도(pH)
  - **1차 인입압력 예측** (선형 회귀 모델 사용)
  - 예측된 압력 기반으로 **전체 전력량 예측** (랜덤 포레스트 모델 사용)

- 🧮 **예측 상태 시각화**
  - 예상 압력/전력량에 따라 "정상", "주의", "경고" 단계 이미지 출력
  - 예측 수치 표시: 게이지 차트 및 스트림릿 metric 카드로 시각화

- ⏱️ **실시간 모드 (자동 업데이트)**
  - "Start" 버튼 클릭 시 1초 간격으로 예측 반복
  - 실시간 데이터 시뮬레이션 가능
  - "Stop" 클릭 시 중단

---

### 📊 Tab 2 – 생산관리

- 📅 **월별 공정 데이터 비교**
  - 선택한 월 기준:
    - **1차/2차 인입압력**
    - **1차/2차 생산수 TDS**
    - **전체 전력량 (kWh/m³)**

- 📉 **시계열 시각화**
  - Plotly 그래프를 통해 월별 지표 변화를 시각화
  - 평균선, delta 등 포함하여 추세 확인 가능

- 🧾 **월간 지표 변화 분석**
  - 전월 대비 전력량 변화(Delta) 표시
  - Metric 카드 스타일로 깔끔하게 요약 제공

---

### 🔬 Tab 3 – 수질 분석 & 시뮬레이션

- 📆 **월별 수질 변화 분석**
  - 사용자 지정 월의 수온 및 전력량 선 그래프 제공
  - "관측일자" 기준 월 단위 집계
  - 탁도, 총인, 총질소, COD 등 평균값 시각화

- ⚙️ **예측 시뮬레이터**
  - 슬라이더를 통한 사용자 입력:
    - 수온, pH
    - 탁도, 총인, 총질소, COD, 인입압력 등
  - 입력값 기반:
    - **1차 인입압력 예측 (LR 모델)**
    - **전체 전력량 예측 (RF 모델)**

- 🥧 **전력량 영향도 분석**
  - 예측에 사용된 항목들의 비중을 **파이 차트**로 시각화
  - 항목별 비율도 `metric()`을 통해 수치화

- 🗺️ **지역 수질 정보 검색**
  - 지역명 입력 시 관련 수질 데이터 출력
    - `인천수질데이터.csv` / `수질서비스.csv` 활용
  - 해당 지역 위도/경도 지도에 표시 (geopy + st.map 사용)

---

## 사용 기술 (Technologies Used)

- **Python**: 주요 프로그래밍 언어
- **Streamlit**: 대시보드 및 웹 앱 프레임워크
- **Pandas**: 데이터 처리 및 분석
- **Matplotlib / Seaborn**: 데이터 시각화 (사용 시)
- **relativedelta**: 날짜 계산용 라이브러리
- **Git & GitHub**: 버전 관리 및 코드 저장소

### 📌 기타 기능

- 🎯 예측 정확도 향상 위한 전처리 및 그룹바이 연산
- 💡 모델 경량화 및 학습된 모델 `.pkl` 파일 로드
- 📦 Streamlit, Plotly 기반으로 웹 브라우저에서 즉시 사용 가능
- 🌐 Geocoding 기능을 통한 지역 기반 지도 시각화
